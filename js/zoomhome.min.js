(function(){function a(){var q=window.WPLeafletMapPlugin.maps;console.log("maps "+q.length);for(var u=0,f=q.length;u<f;u++){var y=q[u];var b=0;var g=new L.latLngBounds();var e=L.Control.zoomHome();y.on("eledata_loaded",function(i){console.log("elevation loaded");g.extend(i.layer.getBounds());e.setHomeBounds(g);y.fitBounds(g)});var d=window.WPLeafletMapPlugin.lines;if(d.length>0){b++;console.log("lines "+d.length);for(var s=0,v=d.length;s<v;s++){var n=d[s];g.extend(n.getBounds())}}var w=window.WPLeafletMapPlugin.markers;if(w.length>0){console.log("markers "+w.length);b++;var l=[];for(var r=0,v=w.length;r<v;r++){l.push(w[r])}var h=L.featureGroup(l);g.extend(h.getBounds());if(zoomhomemap.fit){y.fitBounds(g)}}var p=window.WPLeafletMapPlugin.geojsons;if(p.length>0){b++;console.log("geojsons "+p.length);var x=p.length;e.addTo(y);for(var t=0,v=x;t<v;t++){var c=p[t];c.on("ready",function(){g.extend(this.getBounds());if(g.isValid()){e.setHomeBounds(g);if(zoomhomemap.fit){y.fitBounds(g)}}})}}var o=window.WPLeafletMapPlugin.markergroups;if(o.length>0){console.log("markergroups "+o.length)}if(b>0){if(g.isValid()){e.addTo(y);e.setHomeBounds(g);y.options.maxZoom=19;if(zoomhomemap.fit){console.log("fit true");console.log(y.getZoom());y.fitBounds(g)}}}}}window.addEventListener("load",a)})();